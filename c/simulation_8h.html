<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SpiNNFrontEndCommon: front_end_common_lib/include/simulation.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SpiNNFrontEndCommon<span id="projectnumber">&#160;7.3.1</span>
   </div>
   <div id="projectbrief">Common support code for user-facing front end systems.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_fb70d623ba67d021fe4e0742c62b1ace.html">front_end_common_lib</a></li><li class="navelem"><a class="el" href="dir_dadc11148aa03b2eaccce86acd9ab7cf.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">simulation.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Simulation Functions Header File.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="common-typedefs_8h_source.html">common-typedefs.h</a>&quot;</code><br />
<code>#include &lt;<a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spin1__api_8h.html">spin1_api.h</a>&gt;</code><br />
</div>
<p><a href="simulation_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structsimulation__config" id="r_structsimulation__config"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#structsimulation__config">simulation_config</a></td></tr>
<tr class="memdesc:structsimulation__config"><td class="mdescLeft">&#160;</td><td class="mdescRight">the position and human readable terms for each element from the region containing the timing details.  <a href="#structsimulation__config">More...</a><br /></td></tr>
<tr class="separator:structsimulation__config"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structsimulation__provenance" id="r_structsimulation__provenance"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#structsimulation__provenance">simulation_provenance</a></td></tr>
<tr class="memdesc:structsimulation__provenance"><td class="mdescLeft">&#160;</td><td class="mdescRight">elements that are always grabbed for provenance if possible when requested  <a href="#structsimulation__provenance">More...</a><br /></td></tr>
<tr class="separator:structsimulation__provenance"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a32f1804051e7d6421d835b856f6b01b0" id="r_a32f1804051e7d6421d835b856f6b01b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32f1804051e7d6421d835b856f6b01b0">MAX_DMA_CALLBACK_TAG</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a32f1804051e7d6421d835b856f6b01b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6c2edff3efdc3d7b4848c01c88c94fdd" id="r_a6c2edff3efdc3d7b4848c01c88c94fdd"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c2edff3efdc3d7b4848c01c88c94fdd">prov_callback_t</a>) (<a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a>)</td></tr>
<tr class="memdesc:a6c2edff3efdc3d7b4848c01c88c94fdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">the definition of the callback used by provenance data functions  <br /></td></tr>
<tr class="separator:a6c2edff3efdc3d7b4848c01c88c94fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297edb28b00e53ce4e92076ec27b89c9" id="r_a297edb28b00e53ce4e92076ec27b89c9"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a297edb28b00e53ce4e92076ec27b89c9">resume_callback_t</a>) (void)</td></tr>
<tr class="memdesc:a297edb28b00e53ce4e92076ec27b89c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">the definition of the callback used by pause and resume  <br /></td></tr>
<tr class="separator:a297edb28b00e53ce4e92076ec27b89c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da0c81f277d8bac42313f3b01186da8" id="r_a2da0c81f277d8bac42313f3b01186da8"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2da0c81f277d8bac42313f3b01186da8">exit_callback_t</a>) (void)</td></tr>
<tr class="separator:a2da0c81f277d8bac42313f3b01186da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452ef9b2f6d19c09218bbaaf2d8640bc" id="r_a452ef9b2f6d19c09218bbaaf2d8640bc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="#a297edb28b00e53ce4e92076ec27b89c9">resume_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a452ef9b2f6d19c09218bbaaf2d8640bc">start_callback_t</a></td></tr>
<tr class="memdesc:a452ef9b2f6d19c09218bbaaf2d8640bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">the definition of the callback used to call a function once at start  <br /></td></tr>
<tr class="separator:a452ef9b2f6d19c09218bbaaf2d8640bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aecb935c0ee1f0574fe403361369301d5" id="r_aecb935c0ee1f0574fe403361369301d5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aecb935c0ee1f0574fe403361369301d5">simulation_commands</a> { <br />
&#160;&#160;<a class="el" href="#aecb935c0ee1f0574fe403361369301d5a1e0ceff2d6f13742786f42dac58149bc">CMD_STOP</a> = 6
, <a class="el" href="#aecb935c0ee1f0574fe403361369301d5ab8ce8bca6a9fa37e90ebdec80c97a288">CMD_RUNTIME</a> = 7
, <a class="el" href="#aecb935c0ee1f0574fe403361369301d5a4c02d1eabcc5134137246bd220b8d752">PROVENANCE_DATA_GATHERING</a> = 8
, <a class="el" href="#aecb935c0ee1f0574fe403361369301d5ae1f9d7108bb374a827d2908be32b697e">IOBUF_CLEAR</a> = 9
, <br />
&#160;&#160;<a class="el" href="#aecb935c0ee1f0574fe403361369301d5a22507047922c1ce8c921c8d193e67126">CMD_PAUSE</a> = 10
, <a class="el" href="#aecb935c0ee1f0574fe403361369301d5a415ab305bf68a199248d80c11f3fba1b">CMD_GET_TIME</a> = 11
<br />
 }</td></tr>
<tr class="memdesc:aecb935c0ee1f0574fe403361369301d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">the commands that the simulation control protocol may send  <a href="#aecb935c0ee1f0574fe403361369301d5">More...</a><br /></td></tr>
<tr class="separator:aecb935c0ee1f0574fe403361369301d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afbd0bd35cd583a3cc02f05f50506dc3c" id="r_afbd0bd35cd583a3cc02f05f50506dc3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbd0bd35cd583a3cc02f05f50506dc3c">simulation_initialise</a> (<a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a> address, uint32_t expected_application_magic_number, uint32_t *timer_period, uint32_t *simulation_ticks_pointer, uint32_t *infinite_run_pointer, uint32_t *time_pointer, int sdp_packet_callback_priority, int dma_transfer_complete_priority)</td></tr>
<tr class="memdesc:afbd0bd35cd583a3cc02f05f50506dc3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialises the simulation interface which involves:  <br /></td></tr>
<tr class="separator:afbd0bd35cd583a3cc02f05f50506dc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab038eef12c8000d66834bc790bfbc832" id="r_ab038eef12c8000d66834bc790bfbc832"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab038eef12c8000d66834bc790bfbc832">simulation_steps_initialise</a> (<a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a> address, uint32_t expected_application_magic_number, uint32_t *simulation_steps_pointer, uint32_t *infinite_steps_pointer, uint32_t *step_pointer, int sdp_packet_callback_priority, int dma_transfer_complete_priority)</td></tr>
<tr class="memdesc:ab038eef12c8000d66834bc790bfbc832"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialises the simulation interface for step-based simulation, which involves:  <br /></td></tr>
<tr class="separator:ab038eef12c8000d66834bc790bfbc832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0afdbb81dc6e563abddd196ddb9fd33b" id="r_a0afdbb81dc6e563abddd196ddb9fd33b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0afdbb81dc6e563abddd196ddb9fd33b">simulation_set_provenance_data_address</a> (<a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a> provenance_data_address)</td></tr>
<tr class="memdesc:a0afdbb81dc6e563abddd196ddb9fd33b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the address of the data region where provenance data is to be stored.  <br /></td></tr>
<tr class="separator:a0afdbb81dc6e563abddd196ddb9fd33b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b47066c4001e5d899c5e265006e034" id="r_a08b47066c4001e5d899c5e265006e034"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08b47066c4001e5d899c5e265006e034">simulation_set_provenance_function</a> (<a class="el" href="#a6c2edff3efdc3d7b4848c01c88c94fdd">prov_callback_t</a> provenance_function, <a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a> provenance_data_address)</td></tr>
<tr class="memdesc:a08b47066c4001e5d899c5e265006e034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an additional callback function to store extra provenance data.  <br /></td></tr>
<tr class="separator:a08b47066c4001e5d899c5e265006e034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46418bf86d00ec7e3529747070cf1014" id="r_a46418bf86d00ec7e3529747070cf1014"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46418bf86d00ec7e3529747070cf1014">simulation_set_exit_function</a> (<a class="el" href="#a2da0c81f277d8bac42313f3b01186da8">exit_callback_t</a> exit_function)</td></tr>
<tr class="memdesc:a46418bf86d00ec7e3529747070cf1014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an additional function to call before exiting the binary when running without a fixed duration of execution.  <br /></td></tr>
<tr class="separator:a46418bf86d00ec7e3529747070cf1014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40edb12cec63693d20223bc93c32d24f" id="r_a40edb12cec63693d20223bc93c32d24f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40edb12cec63693d20223bc93c32d24f">simulation_set_start_function</a> (<a class="el" href="#a452ef9b2f6d19c09218bbaaf2d8640bc">start_callback_t</a> start_function)</td></tr>
<tr class="memdesc:a40edb12cec63693d20223bc93c32d24f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an additional function to call before starting the binary.  <br /></td></tr>
<tr class="separator:a40edb12cec63693d20223bc93c32d24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0232ce3ec1de4e364cd55f0b6780c3b1" id="r_a0232ce3ec1de4e364cd55f0b6780c3b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0232ce3ec1de4e364cd55f0b6780c3b1">simulation_handle_pause_resume</a> (<a class="el" href="#a297edb28b00e53ce4e92076ec27b89c9">resume_callback_t</a> <a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spin1__api__params_8h.html#a7f4271a2bb359cefd04d8ca74346ca05">callback</a>)</td></tr>
<tr class="memdesc:a0232ce3ec1de4e364cd55f0b6780c3b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">cleans up the house keeping, falls into a sync state and handles the resetting up of states as required to resume. Note that following this function, the code should call simulation_ready_to_read (see later).  <br /></td></tr>
<tr class="separator:a0232ce3ec1de4e364cd55f0b6780c3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a9172f6da9bcef24fad1cf22d35f3b" id="r_a30a9172f6da9bcef24fad1cf22d35f3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30a9172f6da9bcef24fad1cf22d35f3b">simulation_exit</a> (void)</td></tr>
<tr class="memdesc:a30a9172f6da9bcef24fad1cf22d35f3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">a helper method for people not using the auto pause and resume functionality  <br /></td></tr>
<tr class="separator:a30a9172f6da9bcef24fad1cf22d35f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af61ddf5f0c5e996122dafddc0c858c27" id="r_af61ddf5f0c5e996122dafddc0c858c27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af61ddf5f0c5e996122dafddc0c858c27">simulation_run</a> (void)</td></tr>
<tr class="memdesc:af61ddf5f0c5e996122dafddc0c858c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the simulation running, returning when it is complete,.  <br /></td></tr>
<tr class="separator:af61ddf5f0c5e996122dafddc0c858c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa485673d4030d5241e018079ded79c" id="r_a7aa485673d4030d5241e018079ded79c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7aa485673d4030d5241e018079ded79c">simulation_ready_to_read</a> (void)</td></tr>
<tr class="memdesc:a7aa485673d4030d5241e018079ded79c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that all data has been written and the core is going idle, so any data can now be read.  <br /></td></tr>
<tr class="separator:a7aa485673d4030d5241e018079ded79c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f6b2afc75e47a56d83e26201e1ec30" id="r_a04f6b2afc75e47a56d83e26201e1ec30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04f6b2afc75e47a56d83e26201e1ec30">simulation_sdp_callback_on</a> (<a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> sdp_port, <a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spin1__api_8h.html#aa0453a7dfd80bc7f68b399e7aabd1053">callback_t</a> <a class="el" href="simulation_8c.html#a1be75697fa2cd3365ff3059c3131d887">sdp_callback</a>)</td></tr>
<tr class="memdesc:a04f6b2afc75e47a56d83e26201e1ec30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers an additional SDP callback on a given SDP port. This is required when using simulation_register_sdp_callback, as this will register its own SDP handler.  <br /></td></tr>
<tr class="separator:a04f6b2afc75e47a56d83e26201e1ec30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858f08b0b25920dcabb2554d3d88aa88" id="r_a858f08b0b25920dcabb2554d3d88aa88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a858f08b0b25920dcabb2554d3d88aa88">simulation_sdp_callback_off</a> (<a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> sdp_port)</td></tr>
<tr class="memdesc:a858f08b0b25920dcabb2554d3d88aa88"><td class="mdescLeft">&#160;</td><td class="mdescRight">disables SDP callbacks on the given port  <br /></td></tr>
<tr class="separator:a858f08b0b25920dcabb2554d3d88aa88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e4e472b7e7a790e85005e22dc3e8c9" id="r_a70e4e472b7e7a790e85005e22dc3e8c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70e4e472b7e7a790e85005e22dc3e8c9">simulation_dma_transfer_done_callback_on</a> (<a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> tag, <a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spin1__api_8h.html#aa0453a7dfd80bc7f68b399e7aabd1053">callback_t</a> <a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spin1__api__params_8h.html#a7f4271a2bb359cefd04d8ca74346ca05">callback</a>)</td></tr>
<tr class="memdesc:a70e4e472b7e7a790e85005e22dc3e8c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">registers a DMA transfer callback to the simulation system  <br /></td></tr>
<tr class="separator:a70e4e472b7e7a790e85005e22dc3e8c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee541cc2640414b2117540149ff5ac8" id="r_adee541cc2640414b2117540149ff5ac8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adee541cc2640414b2117540149ff5ac8">simulation_dma_transfer_done_callback_off</a> (<a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> tag)</td></tr>
<tr class="memdesc:adee541cc2640414b2117540149ff5ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">turns off a registered callback for a given DMA transfer done tag  <br /></td></tr>
<tr class="separator:adee541cc2640414b2117540149ff5ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4140829d7636111360c56f655a673879" id="r_a4140829d7636111360c56f655a673879"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4140829d7636111360c56f655a673879">simulation_set_uses_timer</a> (bool sim_uses_timer)</td></tr>
<tr class="memdesc:a4140829d7636111360c56f655a673879"><td class="mdescLeft">&#160;</td><td class="mdescRight">set whether the simulation uses the timer. By default it will be assumed that simulations use the timer unless this function is called.  <br /></td></tr>
<tr class="separator:a4140829d7636111360c56f655a673879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878f1e3aad4677272f1193cba7d07186" id="r_a878f1e3aad4677272f1193cba7d07186"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a878f1e3aad4677272f1193cba7d07186">simulation_set_sync_steps</a> (uint32_t n_steps)</td></tr>
<tr class="memdesc:a878f1e3aad4677272f1193cba7d07186"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the simulation to enter a synchronisation barrier repeatedly during the simulation. The synchronisation message must be sent from the host. Note <a class="el" href="#a4ea0a05f598d38f62dfec7cd0d5d7589" title="determine if the simulation is finished. Will also pause the simulation for resynchronisation if requ...">simulation_is_finished()</a> must be used each timestep to cause the pause to happen.  <br /></td></tr>
<tr class="separator:a878f1e3aad4677272f1193cba7d07186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea0a05f598d38f62dfec7cd0d5d7589" id="r_a4ea0a05f598d38f62dfec7cd0d5d7589"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ea0a05f598d38f62dfec7cd0d5d7589">simulation_is_finished</a> (void)</td></tr>
<tr class="memdesc:a4ea0a05f598d38f62dfec7cd0d5d7589"><td class="mdescLeft">&#160;</td><td class="mdescRight">determine if the simulation is finished. Will also pause the simulation for resynchronisation if requested (see simulation_set_sync_steps).  <br /></td></tr>
<tr class="separator:a4ea0a05f598d38f62dfec7cd0d5d7589"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simulation Functions Header File. </p>
<p>Specifies functions that are used to get simulation information and start simulations. </p>

<p class="definition">Definition in file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structsimulation__config" id="structsimulation__config"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structsimulation__config">&#9670;&#160;</a></span>simulation_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct simulation_config</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>the position and human readable terms for each element from the region containing the timing details. </p>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00039">39</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a374abb3a949e2a099dd2c8ef70f78fd4" name="a374abb3a949e2a099dd2c8ef70f78fd4"></a>uint32_t</td>
<td class="fieldname">
application_magic_number</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="afc5eafdf8224f1126ecd287eeadf57b7" name="afc5eafdf8224f1126ecd287eeadf57b7"></a>uint32_t</td>
<td class="fieldname">
timer_period</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a48494ee06bc22ca9efcc8389cf76299f" name="a48494ee06bc22ca9efcc8389cf76299f"></a>uint32_t</td>
<td class="fieldname">
control_sdp_port</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a317de8c36360e5a2e70f73c46a8d42a3" name="a317de8c36360e5a2e70f73c46a8d42a3"></a>uint32_t</td>
<td class="fieldname">
num_timing_detail_words</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structsimulation__provenance" id="structsimulation__provenance"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structsimulation__provenance">&#9670;&#160;</a></span>simulation_provenance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct simulation_provenance</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>elements that are always grabbed for provenance if possible when requested </p>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00047">47</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a17752c1dbd8fd38a774837a1d15a8cba" name="a17752c1dbd8fd38a774837a1d15a8cba"></a>uint32_t</td>
<td class="fieldname">
transmission_event_overflow</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a8b5e35b536892d58e972fdf0258c8eb7" name="a8b5e35b536892d58e972fdf0258c8eb7"></a>uint32_t</td>
<td class="fieldname">
callback_queue_overloads</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a0be21c2c4a94d1d716ef26b74b781a71" name="a0be21c2c4a94d1d716ef26b74b781a71"></a>uint32_t</td>
<td class="fieldname">
dma_queue_overloads</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2eac02a0877a17dae18128c81201f8ba" name="a2eac02a0877a17dae18128c81201f8ba"></a>uint32_t</td>
<td class="fieldname">
user_queue_overloads</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ad6ce9747a37db035706d6e9d7f1b9cfc" name="ad6ce9747a37db035706d6e9d7f1b9cfc"></a>uint32_t</td>
<td class="fieldname">
timer_tic_has_overrun</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a2b1558fe605701d2267c88a37a185441" name="a2b1558fe605701d2267c88a37a185441"></a>uint32_t</td>
<td class="fieldname">
max_num_timer_tic_overrun</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="af44ac0e5c67dacf86afe4b9d94779b19" name="af44ac0e5c67dacf86afe4b9d94779b19"></a>uint32_t</td>
<td class="fieldname">
provenance_data_elements[]</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a32f1804051e7d6421d835b856f6b01b0" name="a32f1804051e7d6421d835b856f6b01b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32f1804051e7d6421d835b856f6b01b0">&#9670;&#160;</a></span>MAX_DMA_CALLBACK_TAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DMA_CALLBACK_TAG&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>constant for how many DMA IDs you can use (caps the values of the tags as well) </p>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00035">35</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a6c2edff3efdc3d7b4848c01c88c94fdd" name="a6c2edff3efdc3d7b4848c01c88c94fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2edff3efdc3d7b4848c01c88c94fdd">&#9670;&#160;</a></span>prov_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* prov_callback_t) (<a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the definition of the callback used by provenance data functions </p>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00075">75</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>

</div>
</div>
<a id="a297edb28b00e53ce4e92076ec27b89c9" name="a297edb28b00e53ce4e92076ec27b89c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297edb28b00e53ce4e92076ec27b89c9">&#9670;&#160;</a></span>resume_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* resume_callback_t) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the definition of the callback used by pause and resume </p>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00078">78</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>

</div>
</div>
<a id="a2da0c81f277d8bac42313f3b01186da8" name="a2da0c81f277d8bac42313f3b01186da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2da0c81f277d8bac42313f3b01186da8">&#9670;&#160;</a></span>exit_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* exit_callback_t) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the definition of the callback used by pause and resume when exit command is sent and models want to do cleaning up </p>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00082">82</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>

</div>
</div>
<a id="a452ef9b2f6d19c09218bbaaf2d8640bc" name="a452ef9b2f6d19c09218bbaaf2d8640bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a452ef9b2f6d19c09218bbaaf2d8640bc">&#9670;&#160;</a></span>start_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="#a297edb28b00e53ce4e92076ec27b89c9">resume_callback_t</a> <a class="el" href="#a452ef9b2f6d19c09218bbaaf2d8640bc">start_callback_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the definition of the callback used to call a function once at start </p>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00085">85</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aecb935c0ee1f0574fe403361369301d5" name="aecb935c0ee1f0574fe403361369301d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb935c0ee1f0574fe403361369301d5">&#9670;&#160;</a></span>simulation_commands</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#aecb935c0ee1f0574fe403361369301d5">simulation_commands</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the commands that the simulation control protocol may send </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aecb935c0ee1f0574fe403361369301d5a1e0ceff2d6f13742786f42dac58149bc" name="aecb935c0ee1f0574fe403361369301d5a1e0ceff2d6f13742786f42dac58149bc"></a>CMD_STOP&#160;</td><td class="fielddoc"><p>Asks the simulation loop to stop as soon as possible. </p>
</td></tr>
<tr><td class="fieldname"><a id="aecb935c0ee1f0574fe403361369301d5ab8ce8bca6a9fa37e90ebdec80c97a288" name="aecb935c0ee1f0574fe403361369301d5ab8ce8bca6a9fa37e90ebdec80c97a288"></a>CMD_RUNTIME&#160;</td><td class="fielddoc"><p>Tells the simulation loop how long to run for. </p>
</td></tr>
<tr><td class="fieldname"><a id="aecb935c0ee1f0574fe403361369301d5a4c02d1eabcc5134137246bd220b8d752" name="aecb935c0ee1f0574fe403361369301d5a4c02d1eabcc5134137246bd220b8d752"></a>PROVENANCE_DATA_GATHERING&#160;</td><td class="fielddoc"><p>Asks the application to gather provenance data. </p>
</td></tr>
<tr><td class="fieldname"><a id="aecb935c0ee1f0574fe403361369301d5ae1f9d7108bb374a827d2908be32b697e" name="aecb935c0ee1f0574fe403361369301d5ae1f9d7108bb374a827d2908be32b697e"></a>IOBUF_CLEAR&#160;</td><td class="fielddoc"><p>Clears the IOBUF. </p>
</td></tr>
<tr><td class="fieldname"><a id="aecb935c0ee1f0574fe403361369301d5a22507047922c1ce8c921c8d193e67126" name="aecb935c0ee1f0574fe403361369301d5a22507047922c1ce8c921c8d193e67126"></a>CMD_PAUSE&#160;</td><td class="fielddoc"><p>Asks the application to pause. This relies on the application using simulation_is_finished which can then handle the pause status better. </p>
</td></tr>
<tr><td class="fieldname"><a id="aecb935c0ee1f0574fe403361369301d5a415ab305bf68a199248d80c11f3fba1b" name="aecb935c0ee1f0574fe403361369301d5a415ab305bf68a199248d80c11f3fba1b"></a>CMD_GET_TIME&#160;</td><td class="fielddoc"><p>Get the current simulation time. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00058">58</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="afbd0bd35cd583a3cc02f05f50506dc3c" name="afbd0bd35cd583a3cc02f05f50506dc3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd0bd35cd583a3cc02f05f50506dc3c">&#9670;&#160;</a></span>simulation_initialise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool simulation_initialise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a></td>          <td class="paramname"><span class="paramname"><em>address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>expected_application_magic_number</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>timer_period</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>simulation_ticks_pointer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>infinite_run_pointer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>time_pointer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sdp_packet_callback_priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>dma_transfer_complete_priority</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initialises the simulation interface which involves: </p>
<ol type="1">
<li>Reading the timing details for the simulation out of a region, which is formatted as: uint32_t magic_number; uint32_t timer_period; uint32_t n_simulation_ticks;</li>
<li>setting the simulation SDP port code that supports multiple runs of the executing code through front end calls.</li>
<li>setting up the registration for storing provenance data <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>The address of the region </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">expected_application_magic_number</td><td>The expected value of the magic number that checks if the data was meant for this code </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">timer_period</td><td>Pointer to an int to receive the timer period, in microseconds </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">simulation_ticks_pointer</td><td>Pointer to the number of simulation ticks, to allow this to be updated when requested via SDP </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">infinite_run_pointer</td><td>Pointer to the infinite run flag, to allow this to be updated when requested via SDP </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time_pointer</td><td>Pointer to the current time, to allow this to be updated when requested via SDP </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sdp_packet_callback_priority</td><td>The priority to use for the SDP packet reception </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dma_transfer_complete_priority</td><td>The priority to use for the DMA transfer complete callbacks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the data was found, false otherwise </dd></dl>
</li>
</ol>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00370">370</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="ab038eef12c8000d66834bc790bfbc832" name="ab038eef12c8000d66834bc790bfbc832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab038eef12c8000d66834bc790bfbc832">&#9670;&#160;</a></span>simulation_steps_initialise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool simulation_steps_initialise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a></td>          <td class="paramname"><span class="paramname"><em>address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>expected_application_magic_number</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>simulation_steps_pointer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>infinite_steps_pointer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>step_pointer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sdp_packet_callback_priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>dma_transfer_complete_priority</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initialises the simulation interface for step-based simulation, which involves: </p>
<ol type="1">
<li>Reading the timing details for the simulation out of a region, which is formatted as: uint32_t magic_number; uint32_t timer_period; (ignored in this case) uint32_t n_simulation_steps;</li>
<li>setting the simulation SDP port code that supports multiple runs of the executing code through front end calls.</li>
<li>setting up the registration for storing provenance data <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>The address of the region </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">expected_application_magic_number</td><td>The expected value of the magic number that checks if the data was meant for this code </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">simulation_steps_pointer</td><td>Pointer to the number of simulation steps, to allow this to be updated when requested via SDP </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">infinite_steps_pointer</td><td>Pointer to the infinite steps flag, to allow this to be updated when requested via SDP </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">step_pointer</td><td>Pointer to the current step, to allow this to be updated when requested via SDP </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sdp_packet_callback_priority</td><td>The priority to use for the SDP packet reception </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dma_transfer_complete_priority</td><td>The priority to use for the DMA transfer complete callbacks or &lt;= -2 to disable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the data was found, false otherwise </dd></dl>
</li>
</ol>

<p class="definition">Definition at line <a class="el" href="simulation_8h_source.html#l00142">142</a> of file <a class="el" href="simulation_8h_source.html">simulation.h</a>.</p>

</div>
</div>
<a id="a0afdbb81dc6e563abddd196ddb9fd33b" name="a0afdbb81dc6e563abddd196ddb9fd33b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0afdbb81dc6e563abddd196ddb9fd33b">&#9670;&#160;</a></span>simulation_set_provenance_data_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_set_provenance_data_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a></td>          <td class="paramname"><span class="paramname"><em>provenance_data_address</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the address of the data region where provenance data is to be stored. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">provenance_data_address</td><td>the address where provenance data should be stored </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00414">414</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a08b47066c4001e5d899c5e265006e034" name="a08b47066c4001e5d899c5e265006e034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08b47066c4001e5d899c5e265006e034">&#9670;&#160;</a></span>simulation_set_provenance_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_set_provenance_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a6c2edff3efdc3d7b4848c01c88c94fdd">prov_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>provenance_function</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common-typedefs_8h.html#ac8dc08dd5f5827994d1b06351f925669">address_t</a></td>          <td class="paramname"><span class="paramname"><em>provenance_data_address</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an additional callback function to store extra provenance data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">provenance_function</td><td>function to call for extra provenance data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">provenance_data_address</td><td>the address where provenance data should be stored </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00418">418</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a46418bf86d00ec7e3529747070cf1014" name="a46418bf86d00ec7e3529747070cf1014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46418bf86d00ec7e3529747070cf1014">&#9670;&#160;</a></span>simulation_set_exit_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_set_exit_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a2da0c81f277d8bac42313f3b01186da8">exit_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>exit_function</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an additional function to call before exiting the binary when running without a fixed duration of execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">exit_function</td><td>function to call when the host tells the simulation to exit. Executed before API exit. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00425">425</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a40edb12cec63693d20223bc93c32d24f" name="a40edb12cec63693d20223bc93c32d24f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40edb12cec63693d20223bc93c32d24f">&#9670;&#160;</a></span>simulation_set_start_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_set_start_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a452ef9b2f6d19c09218bbaaf2d8640bc">start_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>start_function</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an additional function to call before starting the binary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">start_function</td><td>function to call when the host tells the simulation to start. Executed before "synchronisation". </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00429">429</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a0232ce3ec1de4e364cd55f0b6780c3b1" name="a0232ce3ec1de4e364cd55f0b6780c3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0232ce3ec1de4e364cd55f0b6780c3b1">&#9670;&#160;</a></span>simulation_handle_pause_resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_handle_pause_resume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a297edb28b00e53ce4e92076ec27b89c9">resume_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cleans up the house keeping, falls into a sync state and handles the resetting up of states as required to resume. Note that following this function, the code should call simulation_ready_to_read (see later). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The function to call just before the simulation is resumed (to allow the resetting of the simulation) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00113">113</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a30a9172f6da9bcef24fad1cf22d35f3b" name="a30a9172f6da9bcef24fad1cf22d35f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30a9172f6da9bcef24fad1cf22d35f3b">&#9670;&#160;</a></span>simulation_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_exit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a helper method for people not using the auto pause and resume functionality </p>
<p>a helper method for people not using the auto pause and resume functionality</p>
<p>Helper when not using the auto pause and resume functionality </p>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00127">127</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="af61ddf5f0c5e996122dafddc0c858c27" name="af61ddf5f0c5e996122dafddc0c858c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af61ddf5f0c5e996122dafddc0c858c27">&#9670;&#160;</a></span>simulation_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_run </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the simulation running, returning when it is complete,. </p>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00108">108</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a7aa485673d4030d5241e018079ded79c" name="a7aa485673d4030d5241e018079ded79c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aa485673d4030d5241e018079ded79c">&#9670;&#160;</a></span>simulation_ready_to_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_ready_to_read </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates that all data has been written and the core is going idle, so any data can now be read. </p>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00131">131</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a04f6b2afc75e47a56d83e26201e1ec30" name="a04f6b2afc75e47a56d83e26201e1ec30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f6b2afc75e47a56d83e26201e1ec30">&#9670;&#160;</a></span>simulation_sdp_callback_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool simulation_sdp_callback_on </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></td>          <td class="paramname"><span class="paramname"><em>sdp_port</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spin1__api_8h.html#aa0453a7dfd80bc7f68b399e7aabd1053">callback_t</a></td>          <td class="paramname"><span class="paramname"><em>sdp_callback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers an additional SDP callback on a given SDP port. This is required when using simulation_register_sdp_callback, as this will register its own SDP handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdp_port</td><td>The SDP port to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sdp_callback</td><td>The callback to call when a packet is received </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00323">323</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a858f08b0b25920dcabb2554d3d88aa88" name="a858f08b0b25920dcabb2554d3d88aa88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a858f08b0b25920dcabb2554d3d88aa88">&#9670;&#160;</a></span>simulation_sdp_callback_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_sdp_callback_off </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></td>          <td class="paramname"><span class="paramname"><em>sdp_port</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>disables SDP callbacks on the given port </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sdp_port</td><td>The SDP port to disable callbacks for </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00333">333</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a70e4e472b7e7a790e85005e22dc3e8c9" name="a70e4e472b7e7a790e85005e22dc3e8c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70e4e472b7e7a790e85005e22dc3e8c9">&#9670;&#160;</a></span>simulation_dma_transfer_done_callback_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool simulation_dma_transfer_done_callback_on </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></td>          <td class="paramname"><span class="paramname"><em>tag</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spin1__api_8h.html#aa0453a7dfd80bc7f68b399e7aabd1053">callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>registers a DMA transfer callback to the simulation system </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>the DMA transfer tag to register against </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>the callback to register for the given tag </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00346">346</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="adee541cc2640414b2117540149ff5ac8" name="adee541cc2640414b2117540149ff5ac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adee541cc2640414b2117540149ff5ac8">&#9670;&#160;</a></span>simulation_dma_transfer_done_callback_off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_dma_transfer_done_callback_off </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" href="https://spinnakermanchester.github.io/spinnaker_tools/spinnaker_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></td>          <td class="paramname"><span class="paramname"><em>tag</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>turns off a registered callback for a given DMA transfer done tag </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tag</td><td>the DMA transfer tag to de-register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00366">366</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a4140829d7636111360c56f655a673879" name="a4140829d7636111360c56f655a673879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4140829d7636111360c56f655a673879">&#9670;&#160;</a></span>simulation_set_uses_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_set_uses_timer </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>sim_uses_timer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set whether the simulation uses the timer. By default it will be assumed that simulations use the timer unless this function is called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sim_uses_timer</td><td>Whether the simulation uses the timer (true) or not (false) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00433">433</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a878f1e3aad4677272f1193cba7d07186" name="a878f1e3aad4677272f1193cba7d07186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a878f1e3aad4677272f1193cba7d07186">&#9670;&#160;</a></span>simulation_set_sync_steps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulation_set_sync_steps </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>n_steps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets the simulation to enter a synchronisation barrier repeatedly during the simulation. The synchronisation message must be sent from the host. Note <a class="el" href="#a4ea0a05f598d38f62dfec7cd0d5d7589" title="determine if the simulation is finished. Will also pause the simulation for resynchronisation if requ...">simulation_is_finished()</a> must be used each timestep to cause the pause to happen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n_steps</td><td>The number of steps of simulation between synchronisations </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00437">437</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
<a id="a4ea0a05f598d38f62dfec7cd0d5d7589" name="a4ea0a05f598d38f62dfec7cd0d5d7589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea0a05f598d38f62dfec7cd0d5d7589">&#9670;&#160;</a></span>simulation_is_finished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool simulation_is_finished </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>determine if the simulation is finished. Will also pause the simulation for resynchronisation if requested (see simulation_set_sync_steps). </p>
<dl class="section return"><dt>Returns</dt><dd>true if the simulation is finished, false if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="simulation_8c_source.html#l00444">444</a> of file <a class="el" href="simulation_8c_source.html">simulation.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
